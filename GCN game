import random

per=input("Would you like to play this game:")
if per.lower() =="yes":
        print("*******RULES*******")
        print("1. A 4 digit secret random code  will be generated by the computer")
        print("2. You have to guess (4 digit number) to crack the secret number. You get to decide the number of guesses.")
        print("3. Upon making a guess, 2 hints will be provided - Correct and Position.")
        print("4. Correct indicate the number of correct digits in the correct position and cows indicates the number of correct digits in the wrong position.")
        print("5. For example, if the secret code is 1234 and the guessed number is 1246 then we have 2 correct (for the exact matches of digits 1 and 2) and 1 position (for the match of digit 4 in the wrong position)")
        print("6. You have to keep on guessing until the secret code is cracked or until your chance is over as per your number of guesses.")
        print("*******GOOD LUCK*******")
else:
    print("Ok bye -_-")
    
def getdigits(num):
    return [int(i) for i in str(num)]

def noduplicate(num):
    num_ask=getdigits(num)
    if len(num_ask)==len(set(num_ask)):
        return True
    else:
        return False

def generatenum():
    while True:
        num=random.randint(1000,9999)
        if noduplicate(num):
            return num

def numofcrctpost(num,guess):
    correct_position=[0,0]
    num_ask= getdigits(num)
    guess_ask=getdigits(guess)
    for i,j in zip(num_ask,guess_ask):
        if j in num_ask:
            if j==i:
                correct_position[0]+=1
            else:
                correct_position[1]+=1
    return correct_position 

num=generatenum()
tries=int(input("Enter number of tries: "))

while tries>0:
    guess=int(input("Enter your guess: "))

    if not noduplicate(guess):
        print("Number should not have repeated digits. Try again.")
        continue
    if guess<1000 or guess>9999:
        print("Enter 4 digit number only. Try again.")
        continue

    correct_position=numofcrctpost(num,guess)
    print(f"{correct_position[0]}correct, {correct_position[1]} position")
    tries-=1

    if correct_position[0]==4:
        print("You guessed it right")
        break
else:
    print(f"You ran out of tries. Number was {num}")
